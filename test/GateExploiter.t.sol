// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
// import "forge-std/console.sol";
import "../src/Gate.sol";
import "../src/GateExploiterDeployer.sol";

contract GateExploiterTest is Test {
    GateExploiterDeployer gateExploiterDeployer;
    Gate gate;

    address exploitContractAddress;

    function setUp() public {
        gateExploiterDeployer = new GateExploiterDeployer();
        gate = new Gate();

        exploitContractAddress = gateExploiterDeployer.deployExploiterContract();
    }

    function testExploit() public {
        gate.open(exploitContractAddress);
        assertTrue(gate.opened());
    }
}